<div class="box-wrapper">
  <div class="container">
    <div class="slider" [style.width]="this.stats.length * 100 + '%'" [style.transform]="getTransform()"
         (swipeleft)="slide(1)" (swiperight)="slide(-1)">
      <div *ngFor="let stat of this.stats; let i = index" class="box{{(i % 5) + 1}} box">
        <div class="bg" [@openClose]="currentSlideIndex === i ? 'open' : 'closed'"></div>
        <ng-container *ngIf="stat !== null">
          <div class="details">
            <h1>{{stat.title}}</h1>
            <p [innerHTML]="stat.description">
            </p>
          </div>
          <div class="illustration">
            <mat-icon>{{stat.icon}}</mat-icon>
          </div>
        </ng-container>
      </div>
    </div>

    <svg (click)="slide(-1)" xmlns="http://www.w3.org/2000/svg" class="prev" width="56.898" height="91"
         viewBox="0 0 56.898 91">
      <path d="M45.5,0,91,56.9,48.452,24.068,0,56.9Z" transform="translate(0 91) rotate(-90)" fill="#fff"/>
    </svg>
    <svg (click)="slide(1)" xmlns="http://www.w3.org/2000/svg" class="next" width="56.898" height="91"
         viewBox="0 0 56.898 91">
      <path d="M45.5,0,91,56.9,48.452,24.068,0,56.9Z" transform="translate(56.898) rotate(90)" fill="#fff"/>
    </svg>
    <div class="trail" [style.grid-template-columns]="'repeat(' + this.stats.length + ', 1fr)'"
         [style.width]="(this.stats.length > 6 ? 6 : this.stats.length) * 10 + '%'">
      <div *ngFor="let stat of this.stats; let i = index" [class.active]="currentSlideIndex === i"
           (click)="currentSlideIndex = i"></div>
    </div>
  </div>
</div>
